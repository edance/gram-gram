<% content_for :title, 'Add a Recipient' %>

<%= render 'shared/navbar' %>

<div class="fluid-container vh-100">
  <%= form_with model: @postcard, class: 'p-4', url: update_recipient_path(@postcard), local: true do |form| %>

    <%= render 'mobile-nav' %>

    <div class="container skinny-container py-5">
      <p class="mb-4">
        Where do you want us to send the&nbsp;photo?
      </p>


      <% if @recipient.new_record? %>
        <%= fields_for :recipient, @postcard.recipient do |recipient| %>
          <%= render 'recipients/form-fields', form: recipient %>
        <% end %>
      <% else %>
        <small class="text-muted">
          Name
        </small>
        <p>
          <%= @recipient.name %>
        </p>

        <small class="text-muted">Address</small>
        <p>
          <%= @recipient.address_line1 %>
          <%= @recipient.address_line2 %>
        </p>

        <div class="row">
          <div class="col-md-6">
            <small class="text-muted">City</small>
            <p><%= @recipient.address_city %></p>
          </div>
          <div class="col-md-6">
            <small class="text-muted">State</small>
            <p><%= @recipient.address_state %></p>
          </div>
        </div>

        <small class="text-muted">Zip</small>
        <p><%= @recipient.address_zip %></p>

        <%= hidden_field_tag(:recipient_id, @recipient.id) %>

      <% end %>

      <%= render 'save-btn' %>
    </div>
  <% end %>
</div>
